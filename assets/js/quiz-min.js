let count=0,answer=[],user_answers=[];const quizMain=document.getElementById("quiz"),quizStart=document.getElementById("quiz__start"),startBtn=document.getElementById("quiz__start-btn"),nextBtn=document.getElementById("nextBtn"),prevBtn=document.getElementById("prevBtn"),resultPage=document.getElementById("result"),header=document.getElementById("header"),overflowFactAim=document.getElementById("overflow__fact-aim"),overflowFactSleep=document.getElementById("overflow__fact-sleep"),overflowFactSmth=document.getElementById("overflow__fact-smth"),overflowResult=document.getElementById("overflow__result"),overflowNext=document.querySelector(".overflowNext");$(document).ready(function(){function e(){count>0?(nextBtn.setAttribute("disabled",!0),prevBtn.classList.remove("hidden"),8==count||$("#nextBtn").show()):$("#prevBtn").addClass("hidden")}function t(e,t){$("#question").text(e[t].Quiz),$("#options1").text(e[t].option1),$("#options2").text(e[t].option2),$("#options3").text(e[t].option3),$("#options4").text(e[t].option4),$("#number").text(Number(t+1));let s=document.createElement("div");s.classList.add("round"),$("#options").children("button").append(s)}function s(){for(let e=0;e<4;e++)document.getElementById("options").children[e].innerHTML==answer[count]?$("#options").children("button")[e].classList.add("active"):$("#options").children("button")[e].classList.remove("active")}function o(){let e=document.getElementById("number"),t=document.querySelector(".progressbar-done");widthCalc=.1111+e.textContent/9*100+"%",t.style.width=widthCalc}startBtn.addEventListener("click",()=>{quizStart.classList.remove("active"),setTimeout(()=>{quizStart.remove()},500),setTimeout(()=>{quizMain.style.opacity=1,quizMain.style.visibility="visible"},500),e(),o(),s()}),fetch("questions.json").then(function(e){return e.json()}).then(function(i){$("#quiz__start-btn").click(function(){t(i.Questions,count)}),$(".option").click(function(){$(this).addClass("active"),$(this).siblings().removeClass("active"),answer[count]=$(this).html;for(let e=0;e<$("#options").children().length;e++)$("#options").children()[e].classList.contains("active")&&$("#nextBtn").removeAttr("disabled")}),$("#nextBtn").click(function(){if(count>answer.length-1)nextBtn.setAttribute("disabled",!0);else if(0===count)setTimeout(()=>{$(".overflowNext").removeClass("pi"),header.style.opacity=0,header.style.visibility="hidden",header.style.display="none",overflowFactAim.style.opacity=1,overflowFactAim.style.visibility="visible",overflowFactAim.classList.add("active"),$(".progressbar").addClass("overflow"),$(".progressbar-wrapper").addClass("overflow"),$(".progressbar-done").addClass("overflow"),$(".pagination-questions").addClass("overflow"),$("#number").addClass("overflow")},100),$(".overflowNext").click(function(){setTimeout(()=>{$(".overflowNext").addClass("pi"),header.style.opacity=1,header.style.visibility="visible",header.style.display="block",overflowFactAim.style.opacity=0,overflowFactAim.style.visibility="hidden",$(".progressbar").removeClass("overflow"),$(".progressbar-wrapper").removeClass("overflow"),$(".progressbar-done").removeClass("overflow"),$(".pagination-questions").removeClass("overflow"),$("#number").removeClass("overflow")},0);for(let l=0;l<$("#options").children().length;l++)$(".option")[l].classList.contains("active")&&user_answers.push(i.Questions[count].Quiz+" "+$(".option")[l].innerText);count=1,$(".option")[2].style.display="flex",$(".option")[3].style.display="flex",nextBtn.style.marginTop="50px",$(".stats-after").removeClass("active"),t(i.Questions,count),prevBtn.classList.remove("hidden"),$("#nextBtn").removeAttr("disabled"),$(".option").removeClass("active"),e(),s(),o(),nextBtn.setAttribute("disabled",!0)});else if(4===count)setTimeout(()=>{$(".overflowNext").removeClass("pi"),header.style.opacity=0,header.style.visibility="hidden",header.style.display="none",overflowFactSleep.style.opacity=1,overflowFactSleep.style.visibility="visible",overflowFactSleep.classList.add("active"),$(".progressbar").addClass("overflow"),$(".progressbar-wrapper").addClass("overflow"),$(".progressbar-done").addClass("overflow"),$(".pagination-questions").addClass("overflow"),$("#number").addClass("overflow")},100),$(".overflowNext").click(function(){setTimeout(()=>{$(".overflowNext").addClass("pi"),header.style.opacity=1,header.style.visibility="visible",header.style.display="block",overflowFactSleep.style.opacity=0,overflowFactSleep.style.visibility="hidden",$(".progressbar").removeClass("overflow"),$(".progressbar-wrapper").removeClass("overflow"),$(".progressbar-done").removeClass("overflow"),$(".pagination-questions").removeClass("overflow"),$("#number").removeClass("overflow")},0);for(let l=0;l<$("#options").children().length;l++)$(".option")[l].classList.contains("active")&&user_answers.push(i.Questions[count].Quiz+" "+$(".option")[l].innerText);count=5,$(".option")[2].style.display="flex",$(".option")[3].style.display="flex",nextBtn.style.marginTop="50px",$(".stats-after").removeClass("active"),t(i.Questions,count),prevBtn.classList.remove("hidden"),$("#nextBtn").removeAttr("disabled"),$(".option").removeClass("active"),e(),s(),o(),nextBtn.setAttribute("disabled",!0)});else if(6===count)setTimeout(()=>{$(".overflowNext").removeClass("pi"),header.style.opacity=0,header.style.visibility="hidden",header.style.display="none",overflowFactSmth.style.opacity=1,overflowFactSmth.style.visibility="visible",overflowFactSmth.classList.add("active"),$(".progressbar").addClass("overflow"),$(".progressbar-wrapper").addClass("overflow"),$(".progressbar-done").addClass("overflow"),$(".pagination-questions").addClass("overflow"),$("#number").addClass("overflow")},100),$(".overflowNext").click(function(){setTimeout(()=>{$(".overflowNext").addClass("pi"),header.style.opacity=1,header.style.visibility="visible",header.style.display="block",overflowFactSmth.style.opacity=0,overflowFactSmth.style.visibility="hidden",$(".progressbar").removeClass("overflow"),$(".progressbar-wrapper").removeClass("overflow"),$(".progressbar-done").removeClass("overflow"),$(".pagination-questions").removeClass("overflow"),$("#number").removeClass("overflow")},0);for(let l=0;l<$("#options").children().length;l++)$(".option")[l].classList.contains("active")&&user_answers.push(i.Questions[count].Quiz+" "+$(".option")[l].innerText);count=7,$(".option")[2].style.display="none",$(".option")[3].style.display="none",nextBtn.style.marginTop="20px",$(".stats-after").addClass("active"),t(i.Questions,count),prevBtn.classList.remove("hidden"),$("#nextBtn").removeAttr("disabled"),$(".option").removeClass("active"),e(),s(),o(),nextBtn.setAttribute("disabled",!0)});else if(8===count){$(".option")[2].style.display="flex",$(".option")[3].style.display="flex",nextBtn.style.marginTop="50px",$(".stats-after").removeClass("active");for(let l=0;l<$("#options").children().length;l++)$(".option")[l].classList.contains("active")&&user_answers.push(i.Questions[count].Quiz+" "+$(".option")[l].innerText);console.log(user_answers),quizMain.classList.remove("active"),setTimeout(()=>{header.style.opacity=0,header.style.visibility="hidden",header.style.display="none",quizMain.style.opacity=0,quizMain.style.visibility="hidden"},100),setTimeout(()=>{overflowResult.style.opacity=1,overflowResult.classList.add("active")},300),setTimeout(()=>{$(".progress-done-analytics").addClass("active")},801),overflowResult.classList.remove("active"),setTimeout(()=>{header.style.opacity=1,header.style.visibility="visible",header.style.display="block",overflowResult.style.opacity=0,overflowResult.style.visibility="hidden"},3300),setTimeout(()=>{overflowResult.remove(),quizMain.remove(),resultPage.style.opacity=1,resultPage.style.visibility="visible"},4301)}else{for(let n=0;n<$("#options").children().length;n++)$(".option")[n].classList.contains("active")&&user_answers.push(i.Questions[count].Quiz+" "+$(".option")[n].innerText);$(".option")[2].style.display="flex",$(".option")[3].style.display="flex",nextBtn.style.marginTop="50px",$(".stats-after").removeClass("active"),count++,t(i.Questions,count),prevBtn.classList.remove("hidden"),$("#nextBtn").removeAttr("disabled"),$(".option").removeClass("active"),e(),s(),o(),nextBtn.setAttribute("disabled",!0)}}),$("#prevBtn").click(function(){8===count?($(".option")[2].style.display="none",$(".option")[3].style.display="none",nextBtn.style.marginTop="20px",$(".stats-after").addClass("active"),user_answers.pop(),nextBtn.setAttribute("disabled",!1),count--,t(i.Questions,count),e(),s(),o()):(user_answers.pop(),$(".option")[2].style.display="flex",$(".option")[3].style.display="flex",nextBtn.style.marginTop="50px",$(".stats-after").removeClass("active"),nextBtn.setAttribute("disabled",!1),count--,t(i.Questions,count),e(),s(),o())})})});